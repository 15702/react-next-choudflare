(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[464],{37839:function(t,i,e){"use strict";e.d(i,{Z:function(){return d}});var s=e(3827),n=e(64090),_=e(80499),o=e.n(_),c=e(98529),a=e.n(c);function r(t){let[i,e]=(0,n.useState)(!1),_=()=>{t.onFold&&t.onFold(!i),e(!i)};return(0,s.jsx)("div",{className:a().div,children:(0,s.jsxs)("div",{className:a().titleRow,children:[(0,s.jsx)("div",{className:a().title,children:t.title}),(0,s.jsx)("img",{alt:"img",src:!0===i?"/assets/BorrowYU/foldblack.svg":"/assets/BorrowYU/unfoldblack.svg",className:a().img,onClick:()=>_()})]})})}var l=e(75504);function d(t){let[i,e]=(0,n.useState)(!1);return(0,s.jsxs)("div",{className:(0,l.Z)(o().div,t.className),children:[(0,s.jsx)(r,{title:t.title,onFold:t=>e(t)}),(0,s.jsx)("div",{className:o().foldContent,hidden:t.fold?t.fold:i,children:t.content})]})}},464:function(t,i,e){"use strict";e.r(i),e.d(i,{default:function(){return k}});var s=e(3827),n=e(64090),_=e(74003),o=e.n(_),c=e(52966),a=e(75504),r=e(48395),l=e(84709),d=e(37839),v=e(89539),h=e.n(v),m=e(22840),p=e(16432),u=e(6962),x=e(77318),g=e(44129),j=e(36816),y=e(34225),D=e(30982),f=e(8792),N=e(53916);let w="/assets/BorrowYU/yu.svg",T="/assets/BorrowYU/ybtc.svg",S="/assets/transaction/icon_calendar.svg";function k(){let t=(0,D.useTranslations)("common"),{setYbtcNum:i,ethAddr:e}=(0,y.Nk)(),{provider:_}=(0,N.VV)(),[v,k]=(0,n.useState)(""),[C,Y]=(0,n.useState)(""),[A,Z]=(0,n.useState)(0),[z,I]=(0,n.useState)(0),[L,M]=(0,n.useState)({skip:0,current:1,pageSize:10,total:0}),[V,b]=(0,n.useState)([]),[F,U]=(0,n.useState)(!1),E=(0,n.useRef)(void 0),J=(0,n.useRef)(void 0),R=async()=>{if(!localStorage.getItem("Authorization")){E.current&&(clearInterval(E.current),E.current=void 0);return}E.current||U(!0),localStorage.getItem("YBTC")&&e&&i(await (0,j.tv)(_.current,e));let t=await (0,u.u1)(e.toLowerCase(),{cdpi:v||void 0},A,z,L.skip,L.pageSize);if((null==t?void 0:t.code)==0){var s,n;let i=[];t.data.data.filter(t=>8!==t.type&&9!==t.type&&5!==t.type).map(t=>{let e=h()(t.timeCreate).format("YYYY-MM-DD");if(0===i.length)i.push({date:e,list:[t],fold:!1});else{let s=i[i.length-1];s.date===e?s.list.push(t):i.push({date:e,list:[t],fold:!1})}}),b(i),M({skip:L.skip,current:L.current,pageSize:L.pageSize,total:(null===(s=t.data)||void 0===s?void 0:s.total)?null===(n=t.data)||void 0===n?void 0:n.total:0}),E.current||(E.current=setInterval(R,1e4))}U(!1)};(0,n.useEffect)(()=>(P(),()=>{E.current&&(clearInterval(E.current),E.current=void 0)}),[v,L.skip,A,z,e]);let P=()=>{localStorage.getItem("Authorization")&&e?R():(k(""),Z(0),I(0),b([]),M({skip:0,current:1,pageSize:10,total:0}),U(!1))},B=t=>{F||(E.current&&(clearInterval(E.current),E.current=void 0),M({skip:(t-1)*L.pageSize,current:t,pageSize:L.pageSize,total:L.total}))},X=t=>{(0,u.nr)(e.toLowerCase(),{cdpi:v||void 0},A,z,t).then(t=>{}).catch(t=>{})},q=(i,e)=>1===i?(0,s.jsxs)("div",{className:o().transAcctivity,children:[t("portfolio_38"),(0,s.jsxs)("span",{children:["#",e.cdpi]}),(0,s.jsx)("div",{style:{marginRight:"5px"},children:","}),t.rich("portfolio_39",{val:()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:(0,g.Eg)((0,x.J8)((0,m.Z)(e.amtC)))}),(0,s.jsx)("img",{src:T})]}),val2:()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:e.wadD?(0,g.Eg)((0,x.J8)((0,m.Z)(e.wadD))):"TBD"}),(0,s.jsx)("img",{src:w})]})})]}):2===i?(0,s.jsx)("div",{className:o().transAcctivity,children:t.rich("portfolio_39",{val:()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:(0,g.Eg)((0,x.J8)((0,m.Z)(e.amtC)))}),(0,s.jsx)("img",{src:T})]}),val2:()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:(0,g.Eg)((0,x.J8)((0,m.Z)(e.wadD)))}),(0,s.jsx)("img",{src:w})]})})}):3===i?(0,s.jsx)("div",{className:o().transAcctivity,children:t.rich("portfolio_40",{val:()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:(0,g.Eg)((0,x.J8)((0,m.Z)(e.amtC)))}),(0,s.jsx)("img",{src:T})]}),val2:()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:(0,g.Eg)((0,x.J8)((0,m.Z)(e.wadD)))}),(0,s.jsx)("img",{src:w})]})})}):4===i?(0,s.jsx)("div",{className:o().transAcctivity,children:t("portfolio_41")}):6===i?(0,s.jsx)("div",{className:o().transAcctivity,children:t.rich("portfolio_85",{id:()=>(0,s.jsxs)("div",{style:{paddingRight:"5px"},children:[e.cdpi," "]}),val:()=>{var t;return(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:(0,g.Eg)((0,x.J8)((0,m.Z)(null===(t=e.extra)||void 0===t?void 0:t.surplus)))}),(0,s.jsx)("img",{src:T})]})}})}):7===i?(0,s.jsx)("div",{className:o().transAcctivity,children:t.rich("portfolio_75",{num:()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:(0,g.Eg)((0,x.J8)((0,m.Z)(e.amtC)))}),(0,s.jsx)("img",{src:T})]})})}):void 0;return(0,s.jsxs)("div",{className:o().list,children:[(0,s.jsxs)("div",{className:o().listTop,children:[(0,s.jsxs)("div",{className:o().listTop_left,children:[(0,s.jsxs)("div",{className:o().row_div,children:[(0,s.jsx)("img",{src:"/assets/transaction/ic_public_search.svg",className:o().img}),(0,s.jsx)("input",{className:o().input,placeholder:t("portfolio_33"),value:C,onChange:t=>{Y(t.target.value),J.current&&clearTimeout(J.current),J.current=setTimeout(()=>{M({skip:0,current:1,pageSize:10,total:0}),k(t.target.value)},500)}})]}),(0,s.jsxs)("div",{className:o().deawerDate,children:[(0,s.jsx)("div",{className:o().deawerDate_text,children:t("common_33")}),(0,s.jsxs)("div",{className:o().pickerDiv,children:[(0,s.jsx)("img",{src:S,className:o().img}),(0,s.jsx)(c.a,{placeholder:t("common_24"),onChange:t=>{t?Z(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())):Z(0)},valueFormat:"YYYY-MM-DD",clearable:!0,classNames:{levelsGroup:o().pickerDivLevelsGroup}})]}),(0,s.jsx)("div",{className:o().deawerDate_text,children:t("common_34")}),(0,s.jsxs)("div",{className:o().pickerDiv,children:[(0,s.jsx)("img",{src:S,className:o().img}),(0,s.jsx)(c.a,{placeholder:t("common_25"),onChange:t=>{t?I(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)):I(0)},minDate:h()((t=>{if(0===t||null==t)return"";var i=new Date(1e3*t/1e3);return i.getFullYear()+"-"+(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+"-"+(10>i.getDate()?"0"+i.getDate():i.getDate())})(A)).toDate(),valueFormat:"YYYY-MM-DD",clearable:!0,classNames:{levelsGroup:o().pickerDivLevelsGroup}})]})]})]}),(0,s.jsxs)("div",{className:o().divDownload,children:[(0,s.jsxs)("div",{className:(0,a.Z)(o().row_div,o().row_div_2),onClick:()=>X("csv"),children:[(0,s.jsx)("img",{src:"/assets/transaction/SCV.svg",className:(0,a.Z)(o().img,o().img_csv)}),(0,s.jsx)("div",{className:o().font,children:t("common_35")})]}),(0,s.jsxs)("div",{className:(0,a.Z)(o().row_div,o().row_div_2),onClick:()=>X("json"),children:[(0,s.jsx)("img",{src:"/assets/transaction/JSON.svg",className:(0,a.Z)(o().img,o().img_json)}),(0,s.jsx)("div",{className:o().font,children:t("common_36")})]})]})]}),0==V.length||F?(0,s.jsx)(p.Z,{border:!0,loading:F}):V.map((i,e)=>(0,s.jsx)(d.Z,{className:o().listFold,title:i.date,fold:i.fold,content:(0,s.jsxs)("div",{className:o().listContent,children:[(0,s.jsxs)("div",{className:o().contentTop,children:[(0,s.jsx)("div",{className:o().contentTop_div_1,children:t("MintYU_8")}),(0,s.jsx)("div",{className:o().contentTop_div_2,children:t("common_29")}),(0,s.jsx)("div",{className:o().contentTop_div_3,children:t("portfolio_23")}),(0,s.jsx)("div",{className:o().contentTop_div_5,children:t("portfolio_25")}),(0,s.jsx)("div",{className:o().contentTop_div_6,children:"YU"})]}),(0,s.jsx)("div",{className:o().contentAll,children:i.list.map((i,e)=>(0,s.jsx)("div",{className:o().vaultList,children:(0,s.jsxs)("div",{className:o().contentDiv,children:[(0,s.jsxs)("div",{className:o().contentDiv_div_1,children:[(0,s.jsx)("div",{className:o().tecontentDiv_div_XS,children:t("MintYU_8")}),(0,s.jsx)("div",{children:i.cdpi?i.cdpi:"--"})]}),(0,s.jsxs)("div",{className:o().contentDiv_div_2,children:[(0,s.jsx)("div",{className:o().tecontentDiv_div_XS,children:t("common_29")}),(0,s.jsx)("div",{children:(0,r.mr)(i.timeCreate)})]}),(0,s.jsxs)("div",{className:o().contentDiv_div_3,children:[(0,s.jsx)("div",{className:o().tecontentDiv_div_XS,children:t("portfolio_23")}),(0,s.jsx)("div",{children:q(i.type,i)})]}),(0,s.jsxs)("div",{className:o().contentDiv_div_5,children:[(0,s.jsx)("div",{className:o().tecontentDiv_div_XS,children:t("portfolio_25")}),(0,s.jsx)("div",{children:i.cdpi?(0,s.jsx)(f.default,{href:"/position?cdpi=".concat(i.cdpi),children:(0,s.jsx)("span",{className:o().contentView,children:t("portfolio_31")})}):"--"})]}),(0,s.jsxs)("div",{className:(0,a.Z)(o().contentDiv_div_6,o().textAlign_left),children:[(0,s.jsx)("div",{className:o().tecontentDiv_div_XS,children:"YU"}),(0,s.jsx)("div",{children:i.txid?(0,s.jsx)("a",{href:(0,r.nA)(i.txid),className:o().contentView,target:"_blank",children:t("portfolio_29")}):"--"})]})]})},e))})]})},e)),(0,s.jsx)(l.Z,{type:"pagination",pageChange:t=>B(t),total:L.total,current:L.current,pageSize:L.pageSize})]})}},98529:function(t){t.exports={tipsImg:"__2_tipsImg__mkIAY",layout:"__2_layout__hyR6e",main:"__2_main__wlzM6",contentLayout:"__2_contentLayout__TxczF",div:"__2_div__wqO8m",titleRow:"__2_titleRow__2O7L9",title:"__2_title__7_85S",img:"__2_img__dgZIQ"}},80499:function(t){t.exports={tipsImg:"__3_tipsImg__GCnfb",layout:"__3_layout__XphU6",main:"__3_main__Zftge",contentLayout:"__3_contentLayout__YcuP_",div:"__3_div__PQK_7",foldContent:"__3_foldContent__1WNTu"}},74003:function(t){t.exports={tipsImg:"history_tipsImg__PbC16",layout:"history_layout__Ko0cF",main:"history_main__LyO1U",contentLayout:"history_contentLayout__ZZQ1P",list:"history_list__9BVgz",listTop:"history_listTop__21lzC",row_div:"history_row_div__aAeUG",img:"history_img__Ini5T",font:"history_font__1_xxE",input:"history_input__2Lk_A",rangePicker:"history_rangePicker__V1Kwu",row_div_2:"history_row_div_2__3WxIV",img_csv:"history_img_csv__IZlSQ",img_json:"history_img_json__h_PUV",listTop_left:"history_listTop_left__WhTjN",deawerDate:"history_deawerDate__QVvKy",pickerDiv:"history_pickerDiv__M1zR7",divDownload:"history_divDownload__mPTkA",listFold:"history_listFold__npgu_",listContent:"history_listContent__s57Px",tecontentDiv_div_XS:"history_tecontentDiv_div_XS__qPTlk",contentTop:"history_contentTop__V_2qK",contentTop_div_1:"history_contentTop_div_1__9vd_o",contentTop_div_2:"history_contentTop_div_2__0xl_x",contentTop_div_3:"history_contentTop_div_3__uF1v9",contentTop_div_4:"history_contentTop_div_4__bl5n1",contentTop_div_5:"history_contentTop_div_5__ubIMz",contentTop_div_6:"history_contentTop_div_6__rNkCU",contentTop_div_7:"history_contentTop_div_7__VrFTb",contentTop_div_8:"history_contentTop_div_8__sIXgD",contentAll:"history_contentAll__HJzjB",vaultList:"history_vaultList__PqwVr",contentDiv:"history_contentDiv__S8x_n",contentDiv_div_1:"history_contentDiv_div_1__0WaEv",contentDiv_div_2:"history_contentDiv_div_2__e_LjD",contentDiv_div_3:"history_contentDiv_div_3__fvkxv",contentDiv_div_4:"history_contentDiv_div_4__eMknY",contentDiv_div_5:"history_contentDiv_div_5__7wTq4",contentDiv_div_6:"history_contentDiv_div_6__VIWLJ",contentDiv_div_7:"history_contentDiv_div_7__BkRUE",contentDiv_div_8:"history_contentDiv_div_8__qwV1z",contentDiv_font:"history_contentDiv_font__SCRuD",transAcctivity:"history_transAcctivity__6R2Cm",contentView:"history_contentView__poim7",deawerDate_text:"history_deawerDate_text__0efdF",contentDiv_tit:"history_contentDiv_tit__vz6Sb",textAlign_left:"history_textAlign_left__dqfnl",textAlign_xs_center:"history_textAlign_xs_center__KNJqE",pickerDivLevelsGroup:"history_pickerDivLevelsGroup__SJv8J"}}}]);